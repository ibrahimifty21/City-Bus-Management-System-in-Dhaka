{"remainingRequest":"C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\src\\views\\Login.vue","mtime":1642347168000},{"path":"C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642347132000},{"path":"C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\node_modules\\babel-loader\\lib\\index.js","mtime":1642347130000},{"path":"C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642347132000},{"path":"C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1642347164000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTonTG9naW4nLA0KDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm57DQogICAgICAgICAgICB1c2VybmFtZTonJywNCiAgICAgICAgICAgIHBhc3N3b3JkOicnLA0KICAgICAgICAgICAgZXJyb3JzOltdLA0KICAgICAgICAgICAgaXNfbG9hZGluZzpmYWxzZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgYXN5bmMgc3VibWl0KCl7DQogICAgICAgICAgICB0aGlzLmlzX2xvYWRpbmcgPSB0cnVlDQogICAgICAgICAgICBjb25zdCBmb3JtZGF0YSA9IHsNCiAgICAgICAgICAgICAgICB1c2VybmFtZTp0aGlzLnVzZXJuYW1lLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkOnRoaXMucGFzc3dvcmQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZm9ybWRhdGEpDQogICAgICAgICAgICBkZWxldGUgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl07DQogICAgICAgICAgICB0aGlzLmVycm9ycyA9IFtdOw0KICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgnYXBpL2F1dGgvdG9rZW4vbG9naW4vJyxmb3JtZGF0YSkNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5pc19sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlcy5kYXRhWydhdXRoX3Rva2VuJ10NCiAgICAgICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlcicscmVzLmRhdGEpDQogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJyx0b2tlbikNCiAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gICJUb2tlbiAiICArICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQ0KICAgICAgICAgICAgICAgIGF4aW9zLmdldCgnYXBpL2F1dGgvdXNlcnMvbWUvJykNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlcicscmVzLmRhdGEpDQogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUudXNlcikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLnRoZW4oZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmF1dGhfdG9rZW4pDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgew0KICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgbWFkZSBhbmQgc2VydmVyIHJlc3BvbmRlZA0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gZXJyb3IucmVzcG9uc2UNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5lcnJvcnMpDQogICAgICAgICAgICAgICAgX3RoaXMuaXNfbG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgfSANCg0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["C:\\Users\\Ibrahim\\Desktop\\citybus_new\\citybus_new\\city_bus_service\\frontend\\citybus\\src\\views\\Login.vue"],"names":[],"mappings":"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AAC,CAAC;gBACvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oBACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzB,CAAC;gBACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oBACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnB,CAAC;gBACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,CAAC;YACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBACpB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBACpB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;gBAEnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;;;;gBAIvB;;YAEJ,CAAC,CAAC;QACN;IACJ;AACJ","file":"C:/Users/Ibrahim/Desktop/citybus_new/citybus_new/city_bus_service/frontend/citybus/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"container\">\r\n        <div class=\"card\" style=\"width: 30rem;\">\r\n        <div class=\"card-header my-3\">\r\n            <h2>Login</h2>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div v-for=\"data in errors\" :key=\"data.id\">\r\n                <div class=\"row mb-1\">\r\n                    <span v-if=\"data.username\" class=\"info\">\r\n                        <i class=\"fas fa-info-circle\"></i>\r\n                    username = {{data.username}}\r\n                    </span>\r\n                    <span v-if=\"data.password\" class=\"info\">\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                        password = {{data.password}}\r\n                    </span>\r\n                    <span v-if=\"data.non_field_errors\" class=\"info\">\r\n                        <i class=\"fas fa-info-circle\"></i>\r\n                    error = {{data.non_field_errors}}\r\n                    </span>\r\n                </div>\r\n                \r\n                \r\n                \r\n                \r\n                \r\n\r\n            </div>\r\n            <form @submit.prevent=\"submit\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Username</label>\r\n                    <input type=\"text\" v-model=\"username\" class=\"form-control\" id=\"exampleInputEmail1\" required>\r\n                    \r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"exampleInputPassword1\" class=\"form-label\">Password</label>\r\n                    <input type=\"password\" v-model=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" required>\r\n                </div>\r\n                \r\n                <div class=\"mb-3 form-check\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\" required>\r\n                    <label class=\"form-check-label\" for=\"exampleCheck1\">Remeber me</label>\r\n\r\n                </div>\r\n                <div class=\"mb-3 \">\r\n                    <span>Not a member? </span>\r\n                    <router-link to='/register'>\r\n                    Register\r\n                    </router-link>\r\n\r\n                </div>\r\n\r\n                <button v-if=\"is_loading === false\" type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n                <button v-if=\"is_loading === true\" class=\"btn btn-primary\" type=\"button\" disabled>\r\n                    <span\r\n                        class=\"spinner-border spinner-border-sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                    ></span>\r\n                    <span class=\"visually-hidden\">Submitting...</span>\r\n                </button>\r\n            </form>\r\n            \r\n        </div>\r\n    </div>\r\n    \r\n    </div>\r\n    <router-view></router-view>\r\n\r\n    </div>\r\n    \r\n    \r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name:'Login',\r\n\r\n    data(){\r\n        return{\r\n            username:'',\r\n            password:'',\r\n            errors:[],\r\n            is_loading:false\r\n        }\r\n    },\r\n    methods:{\r\n        async submit(){\r\n            this.is_loading = true\r\n            const formdata = {\r\n                username:this.username,\r\n                password:this.password\r\n            }\r\n            let _this = this\r\n            //console.log(formdata)\r\n            delete  axios.defaults.headers.common[\"Authorization\"];\r\n            this.errors = [];\r\n            await axios.post('api/auth/token/login/',formdata)\r\n            .then(res => {\r\n                this.is_loading = false\r\n                const token = res.data['auth_token']\r\n                // this.$store.dispatch('user',res.data)\r\n                localStorage.setItem('token',token)\r\n                axios.defaults.headers.common['Authorization'] =  \"Token \"  +  localStorage.getItem('token')\r\n                axios.get('api/auth/users/me/')\r\n                .then(res => {\r\n                    this.$store.dispatch('user',res.data)\r\n                    //console.log(this.$store.state.user)\r\n                    this.$router.push('/')\r\n                })\r\n                .then(err => {\r\n                    console.log(err)\r\n                })\r\n                //console.log(this.$store.state.user.auth_token)\r\n            })\r\n            .catch(function (error) {\r\n                if (error.response) {\r\n                // Request made and server responded\r\n                \r\n                //console.log(error.response.data);\r\n                _this.errors = error.response\r\n                console.log(_this.errors)\r\n                _this.is_loading = false\r\n                \r\n                \r\n                \r\n                } \r\n\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.container{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n}\r\n.card{\r\n    margin-top: 3rem;\r\n} \r\nh2{\r\n    font-weight: 900;\r\n}\r\n</style>"]}]}